import{_ as i,o as a,c as n,ah as l}from"./chunks/framework.CR5tBAx8.js";const o=JSON.parse('{"title":"什么是脚手架","description":"","frontmatter":{},"headers":[],"relativePath":"node/脚手架.md","filePath":"node/脚手架.md"}'),e={name:"node/脚手架.md"};function h(t,s,p,k,r,d){return a(),n("div",null,[...s[0]||(s[0]=[l(`<h1 id="什么是脚手架" tabindex="-1">什么是脚手架 <a class="header-anchor" href="#什么是脚手架" aria-label="Permalink to “什么是脚手架”">​</a></h1><p>脚手架工具是一种能够帮助开发者快速创建项目的工具，用于快速生成项目的基本结构，文件模板和配置文件。 例如：vue-cli、create-react-app、angular-cli等等。</p><h2 id="如何实现一个自己的脚手架工具" tabindex="-1">如何实现一个自己的脚手架工具？ <a class="header-anchor" href="#如何实现一个自己的脚手架工具" aria-label="Permalink to “如何实现一个自己的脚手架工具？”">​</a></h2><ol><li>创建自定义全局命令</li><li>命令参数接收处理</li><li>终端交互</li><li>下载远程项目代码</li><li>项目初始化完成提示</li></ol><h2 id="如何将此代码文件作为我的全局命令行工具使用呢" tabindex="-1">如何将此代码文件作为我的全局命令行工具使用呢？ <a class="header-anchor" href="#如何将此代码文件作为我的全局命令行工具使用呢" aria-label="Permalink to “如何将此代码文件作为我的全局命令行工具使用呢？”">​</a></h2><p>在当前项目的根目录下去执行一个 npm link 命令(挂载的意思)</p><h2 id="使用commander库处理命令行参数-例如help" tabindex="-1">使用commander库处理命令行参数(例如help) <a class="header-anchor" href="#使用commander库处理命令行参数-例如help" aria-label="Permalink to “使用commander库处理命令行参数(例如help)”">​</a></h2><ul><li><p>commander库是一个用于处理命令行参数的库，它可以帮助开发者快速创建命令行工具。</p></li><li><p>安装commander库</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commander</span></span></code></pre></div><ul><li>引入commander库</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> program</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;commander&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">program对象</span></span></code></pre></div><h2 id="如何使用commander去处理自定义指令" tabindex="-1">如何使用commander去处理自定义指令？ <a class="header-anchor" href="#如何使用commander去处理自定义指令" aria-label="Permalink to “如何使用commander去处理自定义指令？”">​</a></h2><ul><li>使用program.command()方法创建自定义指令</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">program.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;create &lt;name&gt; [other...]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[other]其他选项</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">alias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;c&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//别名c</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;创建一个新的项目&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//说明</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">，</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`创建项目 \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//具体执行的任务操作</span></span></code></pre></div></li></ul><h2 id="逻辑代码模块拆分" tabindex="-1">逻辑代码模块拆分 <a class="header-anchor" href="#逻辑代码模块拆分" aria-label="Permalink to “逻辑代码模块拆分”">​</a></h2><p>每一个命令选项都会有一些逻辑性的代码，例如：创建项目、下载项目、初始化项目等等，我们可以将这些逻辑性代码封装到一个模块中，然后通过命令选项调用这个模块。</p><ul><li>建立lib/core目录，用于存放逻辑性代码模块</li></ul><h3 id="有些命令的执行逻辑代码也需要封装到模块中" tabindex="-1">有些命令的执行逻辑代码也需要封装到模块中 <a class="header-anchor" href="#有些命令的执行逻辑代码也需要封装到模块中" aria-label="Permalink to “有些命令的执行逻辑代码也需要封装到模块中”">​</a></h3><p>如命令的.action()方法中调用的函数，我们可以将这些函数封装到一个模块中，然后通过命令选项调用这个模块。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span> .action(myaction)</span></span>
<span class="line"><span> .action((projectName, other) =&gt; {</span></span>
<span class="line"><span> console.log(projectName);</span></span>
<span class="line"><span> console.log(other);</span></span>
<span class="line"><span> })</span></span>
<span class="line"><span></span></span>
<span class="line"><span>将(projectName, other) =&gt; {</span></span>
<span class="line"><span> console.log(projectName);</span></span>
<span class="line"><span> console.log(other);</span></span>
<span class="line"><span> }</span></span>
<span class="line"><span>封装成单独的action.js模块</span></span></code></pre></div>`,14)])])}const g=i(e,[["render",h]]);export{o as __pageData,g as default};
